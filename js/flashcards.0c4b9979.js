(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["flashcards"],{"4e80":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("PageFlashCards",{attrs:{flashcards:e.chosenFlashCards}})},a=[],n=s("cebc"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("LayoutDefault",{staticClass:"PageFlashCards"},[s("template",{slot:"header"},[s("BackButton",{nativeOn:{click:function(t){return e.$router.go(-1)}}}),e.isShuffleBlocked?e._e():s("button",{staticClass:"PageFlashCards_shuffleBtn",on:{click:function(t){return e.shuffle()}}},[s("i",[e._v("🔀")])]),e.isLogged?s("button",{staticClass:"PageFlashCards_markBtn",on:{click:function(t){e.showConfirmDialog=!0}}},[s("i",[e._v("❌")])]):e._e(),s("button",{staticClass:"PageFlashCards_markBtn",on:{click:e.speak}},[e._v("🔊")]),s("button",{staticClass:"PageFlashCards_counter",on:{click:e.promptCardNumber}},[s("p",{directives:[{name:"visible",rawName:"v-visible",value:e.lap,expression:"lap"}],staticClass:"counter_lap"},[e._v("\n                "+e._s(e.lap)+"\n            ")]),s("p",{staticClass:"counter_card",domProps:{innerHTML:e._s(e.progress)}}),s("p",{staticClass:"counter_side"},[e._v("\n                "+e._s(e.cardSide)+"\n            ")])]),s("ConfirmDialog",{attrs:{isOpened:e.showConfirmDialog,message:"Oznaczyć jako trudne?",onAgree:e.agree,onCancel:e.cancel}})],1),s("div",{staticClass:"PageFlashCards_card container",attrs:{slot:"main"},slot:"main"},[s("h1",{class:e.className},[e.word[0]?[s("span",[e._v(e._s(e.word[0]))])]:e._e(),e._v("\n            "+e._s(e.word[1])+"\n        ")],2),e.showTick?s("div",{staticClass:"card_toast"},[s("i",[e._v(" ✓ ")]),s("span",[e._v(" "+e._s(e.markedWord)+" ")])]):e._e(),s("button",{staticClass:"PageFlashCards_prevBtn",on:{click:e.goBack}}),s("button",{staticClass:"PageFlashCards_nextBtn",on:{click:e.onCardClick}}),e.isPromptOpened?s("form",{staticClass:"CardNumberPrompt",on:{submit:function(t){return t.preventDefault(),e.goToCard(e.form.cardNumber)}}},[s("h1",[e._v(" Przejdź do karty: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.cardNumber,expression:"form.cardNumber"}],ref:"CardNumberPrompt",attrs:{type:"number",placeholder:"0"},domProps:{value:e.form.cardNumber},on:{input:function(t){t.target.composing||e.$set(e.form,"cardNumber",t.target.value)}}}),s("ul",e._l(13,function(t){return t>1?s("li",{key:t},[s("button",{attrs:{type:"button",disabled:e.flashcardsInGame.length<5*t},on:{click:function(s){e.goToCard(5*t),e.promptCardNumber(!1)}}},[e._v(e._s(5*t))])]):e._e()}),0)]):e._e()])],2)},o=[],d=s("5176"),c=s.n(d),l=s("2ef0"),u=s("2f62"),h=s("96ec"),f=s("4dd0"),m=s.n(f),C={components:{ConfirmDialog:h["a"]},props:{flashcards:Array},data:function(){return{currentIndex:0,isCardRevealed:!1,lap:0,flashcardsInGame:[],showConfirmDialog:!1,showTick:!1,markedWord:"",form:{cardNumber:null},isPromptOpened:!1}},computed:Object(n["a"])({},Object(u["d"])(["isModePlToNo","isShuffleBlocked"]),Object(u["b"])(["isLogged"]),{currentNorskWord:function(){return this.flashcardsInGame[this.currentIndex].no},word:function(){var e=this.isModePlToNo?["pl","no"]:["no","pl"];return this.isCardRevealed?[this.flashcardsInGame[this.currentIndex][e[0]],this.flashcardsInGame[this.currentIndex][e[1]]]:[null,this.flashcardsInGame[this.currentIndex][e[0]]]},className:function(){var e={"-card-revealed":this.isCardRevealed};return this.isCardRevealed&&c()(e,{"-male":0===this.currentNorskWord.indexOf("en "),"-female":0===this.currentNorskWord.indexOf("ei "),"-male-female":0===this.currentNorskWord.indexOf("ei/en")||0===this.currentNorskWord.indexOf("en/ei"),"-neuter":0===this.currentNorskWord.indexOf("et ")}),e},progress:function(){return this.currentIndex+1+"<br>"+this.flashcardsInGame.length},cardSide:function(){return this.isCardRevealed?"B":"A"}}),watch:{currentIndex:function(e){m.a.set("CURRENT_CARD_INDEX",e)}},methods:{speak:function(){responsiveVoice.speak(this.currentNorskWord,"Norwegian Female")},revealCard:function(){this.isCardRevealed=!0},unrevealCard:function(){this.isCardRevealed=!1},goBack:function(){if(this.isCardRevealed)this.unrevealCard();else{if(0===this.currentIndex)return;this.currentIndex--}},goNext:function(){this.currentIndex===this.flashcardsInGame.length-1?(this.lap++,this.currentIndex=0):this.currentIndex++},onCardClick:function(){this.isCardRevealed?(this.unrevealCard(),this.goNext()):this.revealCard()},handleKeyEvent:function(e){32===e.keyCode&&this.onCardClick()},shuffle:function(){this.flashcardsInGame=Object(l["shuffle"])(this.flashcards),this.currentIndex=0,this.isCardRevealed=!1},markAsMastered:function(){var e=this.flashcardsInGame[this.currentIndex];this.$store.dispatch("UPDATE_MASTERED_FLASHCARD",{flashcard:e}),this.flashcardsInGame.splice(this.currentIndex,1)},markAsHard:function(){var e=this.flashcardsInGame[this.currentIndex];this.$store.dispatch("UPDATE_HARD_CARDS",{card:e})},agree:function(){var e=this;this.showConfirmDialog=!1,this.markedWord=this.word,this.showTick=!0,this.isCardRevealed=!1,this.markAsHard(),setTimeout(function(){e.showTick=!1},1e3)},cancel:function(){this.showConfirmDialog=!1},promptCardNumber:function(e){this.isPromptOpened=void 0===e?!this.isPromptOpened:e},goToCard:function(e){e>this.flashcardsInGame.length||(this.currentIndex=e-1,this.isCardRevealed=!1)}},created:function(){if(!this.flashcards.length)return this.$router.push({name:"categories"});this.isShuffleBlocked||m.a.get("LAST_FLASHCARDS")?this.flashcardsInGame=this.flashcards:this.shuffle(),m.a.set("LAST_FLASHCARDS",this.flashcardsInGame),this.currentIndex=m.a.get("CURRENT_CARD_INDEX")||0},mounted:function(){document.addEventListener("keydown",this.handleKeyEvent)},beforeDestroy:function(){document.removeEventListener("keydown",this.handleKeyEvent)}},p=C,v=(s("d29d"),s("2877")),_=Object(v["a"])(p,i,o,!1,null,null,null),g=_.exports,k={components:{PageFlashCards:g},computed:Object(n["a"])({},Object(u["d"])(["chosenFlashCards"]))},b=k,I=Object(v["a"])(b,r,a,!1,null,null,null);t["default"]=I.exports},"67a0":function(e,t,s){},d29d:function(e,t,s){"use strict";var r=s("67a0"),a=s.n(r);a.a}}]);
//# sourceMappingURL=flashcards.0c4b9979.js.map